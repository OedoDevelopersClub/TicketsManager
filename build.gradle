apply plugin: 'java'
//apply plugin: 'application'
apply plugin: 'war'

repositories {
    jcenter()
}

dependencies {

    compile 'fish.payara.extras:payara-micro:4.1.153'

    testCompile 'junit:junit:4.12'
}

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'
sourceCompatibility = targetCompatibility = '1.8'

war { 
    archiveName = 'payara.war'
    exclude('**/payara/**')
}


//mainClassName = "Main"

task run(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = 'Main'
    args war.archivePath.path
}