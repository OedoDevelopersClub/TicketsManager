apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'war'

repositories {
    jcenter()
}

dependencies {

    compile 'fish.payara.extras:payara-micro:4.1.153'

    testCompile 'junit:junit:4.12'
}

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'
sourceCompatibility = targetCompatibility = '1.8'

war { 
    archiveName = 'tickets.war'
    exclude('**/tickets/**')
}

sourceSets {
    main {
        output.resourcesDir = output.classesDir
    }
}

mainClassName = "net.oekora.Server"

run {
    classpath = sourceSets.main.runtimeClasspath
    args war.archivePath.path
}